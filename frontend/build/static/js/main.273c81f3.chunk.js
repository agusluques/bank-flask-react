(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,n){e.exports=n(72)},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(35);var a=n(0),c=n.n(a),r=n(14),o=n.n(r),l=n(10),u=n(16),i=n(2),s=function(e){return c.a.createElement("div",{className:"container"},c.a.createElement("div",null,e.children))},m=(n(46),n(11)),d=(n(47),n(48),n(49),function(e){var t=e.transaction,n=Object(a.useState)(!1),r=Object(m.a)(n,2),o=r[0],l=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{className:"row-".concat(t.card_type)},c.a.createElement("button",{onClick:function(){return l(!o)},className:"btn btn-outline-primary expanded"},o?"-":"+"),c.a.createElement("td",null,t.id),c.a.createElement("td",null,t.value)),o&&c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3"},c.a.createElement("div",null,"Date: ",t.date_created," ",c.a.createElement("br",null),"Type: ",t.card_type))))}),E=function(e){var t=e.transactions,n=Object(a.useState)(e.hasFetched),r=Object(m.a)(n,2),o=r[0],l=r[1];Object(a.useEffect)((function(){l(e.hasFetched)}),[e.hasFetched]);var u=t.map((function(e){return c.a.createElement(d,{transaction:e})}));return t.length>0?c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("th",null),c.a.createElement("th",null,"Id"),c.a.createElement("th",null,"$")),u):o&&c.a.createElement("section",{className:"noData"},"No data")},f=Object(l.b)((function(e){return{transactions:e.transactionStore.transactions}}),(function(e){return{getTransactions:function(t){return e(function(e){return{type:"GET_ALL_TRANSACTIONS",meta:{api:{method:"GET",url:"/accounts/".concat(e,"/transactions/")}}}}(t))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],o=n[1];return c.a.createElement("section",{className:"transaction"},c.a.createElement("section",{className:"header"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){o(!0),e.getTransactions(1)}},"My Transactions"),c.a.createElement("section",null,c.a.createElement("section",null,c.a.createElement("span",{className:"credit-dot"})," Credit"),c.a.createElement("section",null,c.a.createElement("span",{className:"debit-dot"})," Debit"))),c.a.createElement(E,{transactions:e.transactions,hasFetched:r}))})),h=(n(50),Object(l.b)((function(e){return{account:e.accountStore}}),(function(e){return{getAccount:function(t){return e(function(e){return{type:"GET_MY_ACCOUNT",meta:{api:{method:"GET",url:"/accounts/".concat(e,"/")}}}}(t))}}}))((function(e){return Object(a.useEffect)((function(){e.getAccount(1)}),[]),c.a.createElement("section",{className:"about"},c.a.createElement("button",{className:"btn-secondary",onClick:function(){return e.getAccount(1)}},"Refresh Account Details"),c.a.createElement("div",null,c.a.createElement("b",null,"Account Id:")," ",e.account.id),c.a.createElement("div",null,c.a.createElement("b",null,"User Id:")," ",e.account.user_id),c.a.createElement("div",null,c.a.createElement("b",null,"Balance:")," ",e.account.balance))}))),b=function(e){return c.a.createElement("div",{className:"home"},c.a.createElement(f,null),c.a.createElement(h,null))},p=function(){return c.a.createElement(s,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",component:b})))},v=(n(54),n(8)),O=n(32),N=n(12),j={transactions:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_TRANSACTIONS":return Object(N.a)(Object(N.a)({},e),{},{transactions:t.response.data});default:return e}},g={},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MY_ACCOUNT":return Object(N.a)(Object(N.a)({},e),t.response.data);default:return e}},w=Object(v.combineReducers)({transactionStore:T,accountStore:y}),A=n(33),S=n.n(A).a.create({baseURL:"http://localhost:5000/api"}),_=function(e){return function(e){return function(t){if(!t.meta||!t.meta.api)return e(t);var n=t.meta.api,a=n.method,c=n.url,r=n.data;return new Promise((function(n,o){S({method:a,url:c,data:r}).then((function(a){return t.response=a,e(t),n()})).catch((function(n){return t.error=n,e(t),o()}))}))}}},C=Object(v.createStore)(w,Object(O.composeWithDevTools)(Object(v.applyMiddleware)(_)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(l.a,{store:C},c.a.createElement(u.a,null,c.a.createElement(p,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.273c81f3.chunk.js.map